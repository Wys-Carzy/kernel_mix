# SPECTRUM KERNEL MANAGER
# Ramdisk file for profile based kernel management
# Implimentation inspired by Franco's fku profiles

# Initialization
on property:sys.boot_completed=1
   # Enable Spectrum support
   setprop spectrum.support 1
   # Add kernel name
   setprop persist.spectrum.kernel FloppyKernel

# Gates of Hell
on property:persist.spectrum.profile=5

	#Set governor Interactive governor for the LITTLE and BIG cluster
		write /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor "performance"
		write /sys/devices/system/cpu/cpu1/cpufreq/scaling_governor "performance"
		write /sys/devices/system/cpu/cpu2/cpufreq/scaling_governor "performance"
		write /sys/devices/system/cpu/cpu3/cpufreq/scaling_governor "performance"

	#Enable CPU Boost
		write /sys/module/cpu_boost/parameters/input_boost_freq "0:960000 1:0 2:806400 3:0"
		write /sys/module/cpu_boost/parameters/input_boost_ms 150

	#Disable CPU power saving
		write /sys/module/workqueue/parameters/power_efficient N

	#Enable Gentle Fair Sleepers
		write /sys/kernel/sched/gentle_fair_sleepers 1

	#Enable Arch Power
		write /sys/kernel/sched/arch_power 1

	#Disable CRC
		write /sys/module/mmc_core/parameters/use_spi_crc 0

	#Tweaking HMP Scheduler for correcting BIG Cluster utilization
		write /proc/sys/kernel/sched_window_stats_policy 2
		write /proc/sys/kernel/sched_downmigrate 45
		write /proc/sys/kernel/sched_upmigrate 65
		write /proc/sys/kernel/sched_spill_nr_run 3
		write /proc/sys/kernel/sched_spill_load 100
		write /proc/sys/kernel/sched_upmigrate_min_nice 5
		write /proc/sys/kernel/sched_rt_runtime_us 950000
		write /proc/sys/kernel/sched_rt_period_us 1000000
		write /proc/sys/kernel/sched_ravg_hist_size 5
		write /proc/sys/kernel/sched_new_task_windows 5
		write /proc/sys/kernel/sched_init_task_load 100
		write /proc/sys/kernel/sched_restrict_cluster_spill 0 
		write /proc/sys/kernel/sched_rr_timeslice_ms 33
		write /proc/sys/kernel/sched_enable_power_aware 1
		write /proc/sys/kernel/sched_small_wakee_task_load 10
		write /proc/sys/kernel/sched_wakeup_load_threshold 110
		write /proc/sys/kernel/sched_big_waker_task_load 25
		write /proc/sys/kernel/sched_freq_dec_notify 200000
		write /proc/sys/kernel/sched_freq_inc_notify 300000
		write /proc/sys/kernel/sched_boost 1

	#Scheduler I/O 
		write /sys/block/sda/queue/read_ahead_kb 2048
		write /sys/block/sde/queue/read_ahead_kb 2048

	#VM tweaks
		write /proc/sys/vm/swappiness 50
		write /proc/sys/vm/vfs_cache_pressure 100
		write /proc/sys/vm/dirty_ratio 20
		write /proc/sys/vm/dirty_background_ratio 10
		write /proc/sys/vm/min_free_kbytes 4096
		write /proc/sys/vm/dirty_expire_centisecs 250
		write /proc/sys/vm/dirty_writeback_centisecs 500
		write /proc/sys/vm/oom_kill_allocating_task 0
		write /proc/sys/vm/drop_caches 3
		write /proc/sys/vm/page-cluster 3

	#Entropy
		write /proc/sys/kernel/random/read_wakeup_threshold 64
		write /proc/sys/kernel/random/write_wakeup_threshold 896

	#Set noop block I/O scheduler
		setprop sys.io.scheduler "sioplus"

	#TCP Values
		write /proc/sys/net/ipv4/tcp_congestion_control westwood

	#Tweaking GPU
		write /sys/class/kgsl/kgsl-3d0/devfreq/governor performance
		write /sys/class/kgsl/kgsl-3d0/max_gpuclk 624000000

    #Underclock
        write /sys/module/cpufreq/parameters/enable_underclock_balanced N
        write /sys/module/cpufreq/parameters/enable_underclock_battery N
		
# Gaming
on property:persist.spectrum.profile=3
    #Based on Burnout PR5 (18/09/2017)

	#Set governor Interactive governor for the LITTLE and BIG cluster
		write /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor "interactive"
		write /sys/devices/system/cpu/cpu1/cpufreq/scaling_governor "interactive"
		write /sys/devices/system/cpu/cpu2/cpufreq/scaling_governor "interactive"
		write /sys/devices/system/cpu/cpu3/cpufreq/scaling_governor "interactive"

	#Tweak Interactive Governor for the BIG cluster
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/target_loads "70 940800:80 1113600:85 1785600:90 2150400:99"
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/timer_slack 80000
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/timer_rate 20000
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/above_hispeed_delay 40000
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/hispeed_freq 806400
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/go_hispeed_load 80
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/min_sample_time 60000
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/max_freq_hysteresis 99000
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/ignore_hispeed_on_notif 1
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/boost 0
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/fast_ramp_down 0
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/align_windows 0
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/use_migration_notif 1
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/use_sched_load 1
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/boostpulse_duration 80000
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/io_is_busy 0
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/enable_prediction 0
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/target_loads "70 940800:80 1113600:85 1785600:90 2150400:99"
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/timer_slack 80000
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/timer_rate 20000
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/above_hispeed_delay 40000
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/hispeed_freq 806400
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/go_hispeed_load 80
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/min_sample_time 60000
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/max_freq_hysteresis 99000
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/ignore_hispeed_on_notif 1
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/boost 0
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/fast_ramp_down 0
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/align_windows 0
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/use_migration_notif 1
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/use_sched_load 1
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/boostpulse_duration 80000
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/io_is_busy 0
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/enable_prediction 0


	#Tweak Interactive Governor for the LITTLE cluster
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/target_loads "70 960000:80 1228800:90 1593600:95"
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/timer_slack 80000
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/timer_rate 20000
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/above_hispeed_delay 19000
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/hispeed_freq  960000
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/go_hispeed_load 85
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/min_sample_time 60000
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/max_freq_hysteresis 99000
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/ignore_hispeed_on_notif 1
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/boost 0
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/fast_ramp_down 0
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/align_windows 0
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/use_migration_notif 1
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/use_sched_load 1
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/boostpulse_duration 80000
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/io_is_busy 0
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/enable_prediction 0
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/target_loads "70 960000:80 1228800:90 1593600:95"
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/timer_slack 80000
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/timer_rate 20000
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/above_hispeed_delay 19000
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/hispeed_freq  960000
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/go_hispeed_load 85
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/min_sample_time 60000
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/max_freq_hysteresis 99000
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/ignore_hispeed_on_notif 1
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/boost 0
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/fast_ramp_down 0
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/align_windows 0
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/use_migration_notif 1
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/use_sched_load 1
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/boostpulse_duration 80000
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/io_is_busy 0
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/enable_prediction 0

	#Enable CPU Boost
		write /sys/module/cpu_boost/parameters/input_boost_freq "0:960000 1:0 2:806400 3:0"
		write /sys/module/cpu_boost/parameters/input_boost_ms 70

	#Disable CPU power saving
		write /sys/module/workqueue/parameters/power_efficient N

	#Enable Gentle Fair Sleepers
		write /sys/kernel/sched/gentle_fair_sleepers 1

	#Enable Arch Power
		write /sys/kernel/sched/arch_power 1

	#Disable CRC
		write /sys/module/mmc_core/parameters/use_spi_crc 0

	#Tweaking HMP Scheduler for correcting BIG Cluster utilization
		write /proc/sys/kernel/sched_window_stats_policy 2
		write /proc/sys/kernel/sched_downmigrate 45
		write /proc/sys/kernel/sched_upmigrate 65
		write /proc/sys/kernel/sched_spill_nr_run 3
		write /proc/sys/kernel/sched_spill_load 100
		write /proc/sys/kernel/sched_upmigrate_min_nice 5
		write /proc/sys/kernel/sched_rt_runtime_us 950000
		write /proc/sys/kernel/sched_rt_period_us 1000000
		write /proc/sys/kernel/sched_ravg_hist_size 5
		write /proc/sys/kernel/sched_new_task_windows 5
		write /proc/sys/kernel/sched_init_task_load 100
		write /proc/sys/kernel/sched_restrict_cluster_spill 0 
		write /proc/sys/kernel/sched_rr_timeslice_ms 33
		write /proc/sys/kernel/sched_enable_power_aware 1
		write /proc/sys/kernel/sched_small_wakee_task_load 10
		write /proc/sys/kernel/sched_wakeup_load_threshold 110
		write /proc/sys/kernel/sched_big_waker_task_load 25
		write /proc/sys/kernel/sched_freq_dec_notify 200000
		write /proc/sys/kernel/sched_freq_inc_notify 300000
		write /proc/sys/kernel/sched_boost 1

	#Scheduler I/O 
		write /sys/block/sda/queue/read_ahead_kb 2048
		write /sys/block/sde/queue/read_ahead_kb 2048

	#VM tweaks
		write /proc/sys/vm/swappiness 50
		write /proc/sys/vm/vfs_cache_pressure 100
		write /proc/sys/vm/dirty_ratio 20
		write /proc/sys/vm/dirty_background_ratio 10
		write /proc/sys/vm/min_free_kbytes 4096
		write /proc/sys/vm/dirty_expire_centisecs 250
		write /proc/sys/vm/dirty_writeback_centisecs 500
		write /proc/sys/vm/oom_kill_allocating_task 0
		write /proc/sys/vm/drop_caches 3
		write /proc/sys/vm/page-cluster 3

	#Entropy
		write /proc/sys/kernel/random/read_wakeup_threshold 64
		write /proc/sys/kernel/random/write_wakeup_threshold 896

	#Set noop block I/O scheduler
		setprop sys.io.scheduler "sioplus"

	#TCP Values
		write /proc/sys/net/ipv4/tcp_congestion_control westwood

	#Tweaking GPU
		write /sys/class/kgsl/kgsl-3d0/devfreq/governor performance
		write /sys/class/kgsl/kgsl-3d0/max_gpuclk 624000000

    #Underclock
        write /sys/module/cpufreq/parameters/enable_underclock_balanced N
        write /sys/module/cpufreq/parameters/enable_underclock_battery N

# Performance Plus
on property:persist.spectrum.profile=6
    #Based on Nameless Perfomance (18/12/2016)

	#Set governor Interactive governor for the LITTLE and BIG cluster
		write /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor "dancedance"
		write /sys/devices/system/cpu/cpu1/cpufreq/scaling_governor "dancedance"
		write /sys/devices/system/cpu/cpu2/cpufreq/scaling_governor "dancedance"
		write /sys/devices/system/cpu/cpu3/cpufreq/scaling_governor "dancedance"

	#Enable CPU Boost
		write /sys/module/cpu_boost/parameters/input_boost_freq "0:960000 1:0 2:1036800 3:0"
		write /sys/module/cpu_boost/parameters/input_boost_ms 50

	#Disable CPU power saving
		write /sys/module/workqueue/parameters/power_efficient N

	#Enable Gentle Fair Sleepers
		write /sys/kernel/sched/gentle_fair_sleepers 1

	#Enable Arch Power
		write /sys/kernel/sched/arch_power 1

	#Disable CRC
		write /sys/module/mmc_core/parameters/use_spi_crc 0

	#Tweak HMP Scheduler to feed the Big cluster more tasks
		write /proc/sys/kernel/sched_window_stats_policy 2
		write /proc/sys/kernel/sched_upmigrate 95 
		write /proc/sys/kernel/sched_downmigrate 80
		write /proc/sys/kernel/sched_spill_nr_run 5 
		write /proc/sys/kernel/sched_spill_load 96
		write /proc/sys/kernel/sched_init_task_load 40
		write /proc/sys/kernel/sched_heavy_task 96
		write /proc/sys/kernel/sched_enable_power_aware 1
		write /proc/sys/kernel/sched_upmigrate_min_nice 5 
		write /proc/sys/kernel/sched_ravg_hist_size 4
		write /proc/sys/kernel/sched_small_wakee_task_load 5 
		write /proc/sys/kernel/sched_wakeup_load_threshold 110
		write /proc/sys/kernel/sched_small_task 21 
		write /proc/sys/kernel/sched_rt_runtime_us 950000
		write /proc/sys/kernel/sched_rt_period_us 1000000
		write /proc/sys/kernel/sched_migration_fixup 1 
		write /proc/sys/kernel/sched_freq_dec_notify 410000
		write /proc/sys/kernel/sched_freq_inc_notify 600000
		write /proc/sys/kernel/sched_boost 0

	#Scheduler I/O 
		write /sys/block/sda/queue/read_ahead_kb 1536
		write /sys/block/sde/queue/read_ahead_kb 1536

	#VM tweaks
		write /proc/sys/vm/swappiness 40
		write /proc/sys/vm/vfs_cache_pressure 100
		write /proc/sys/vm/dirty_ratio 80
		write /proc/sys/vm/dirty_background_ratio 20
		write /proc/sys/vm/min_free_kbytes 4096
		write /proc/sys/vm/dirty_expire_centisecs 100
		write /proc/sys/vm/dirty_writeback_centisecs 250
		write /proc/sys/vm/oom_kill_allocating_task 0
		write /proc/sys/vm/page-cluster 3

	#Entropy
		write /proc/sys/kernel/random/read_wakeup_threshold 64
		write /proc/sys/kernel/random/write_wakeup_threshold 896

	#Set noop block I/O scheduler
		setprop sys.io.scheduler "maple"

	#TCP Values
		write /proc/sys/net/ipv4/tcp_congestion_control westwood

	#Tweaking GPU
		write /sys/class/kgsl/kgsl-3d0/devfreq/governor performance
		write /sys/class/kgsl/kgsl-3d0/max_gpuclk 624000000

    #Underclock
        write /sys/module/cpufreq/parameters/enable_underclock_balanced N
        write /sys/module/cpufreq/parameters/enable_underclock_battery N

# Performance
on property:persist.spectrum.profile=1
    #Based on GhostPepper v2.0 (15/12/2016)

	#Set governor Interactive governor for the LITTLE and BIG cluster
		write /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor "interactive"
		write /sys/devices/system/cpu/cpu1/cpufreq/scaling_governor "interactive"
		write /sys/devices/system/cpu/cpu2/cpufreq/scaling_governor "interactive"
		write /sys/devices/system/cpu/cpu3/cpufreq/scaling_governor "interactive"

	#Tweak Interactive Governor for the BIG cluster
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/target_loads "35 729600:30 940800:32 1113600:35 1248000:37 1401600:65 1632000:72 1708800:85 1824000:99 1996800:99 2150400:100"
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/timer_slack -1
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/hispeed_freq 307200
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/timer_rate 40000
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/above_hispeed_delay "40000 940800:55000 1248000:33000 1632000:32000"
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/go_hispeed_load 300
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/min_sample_time 40000
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/max_freq_hysteresis 0
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/ignore_hispeed_on_notif 1
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/boost 0
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/fast_ramp_down 1
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/align_windows 0
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/use_migration_notif 1
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/use_sched_load 0
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/boostpulse_duration 0
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/io_is_busy 0
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/enable_prediction 1
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/target_loads "35 729600:30 940800:32 1113600:35 1248000:37 1401600:65 1632000:72 1708800:85 1824000:99 1996800:99 2150400:100"
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/timer_slack -1
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/hispeed_freq 307200
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/timer_rate 40000
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/above_hispeed_delay "40000 940800:55000 1248000:33000 1632000:32000"
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/go_hispeed_load 300
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/min_sample_time 40000
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/max_freq_hysteresis 0
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/ignore_hispeed_on_notif 1
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/boost 0
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/fast_ramp_down 1
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/align_windows 0
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/use_migration_notif 1
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/use_sched_load 0
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/boostpulse_duration 0
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/io_is_busy 0
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/enable_prediction 1

	#Tweak Interactive Governor for the LITTLE cluster
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/target_loads "45 480000:35 652800:49 844800:60 960000:75 1113600:85 1228800:90 1401600:95 1593600:100"
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/go_hispeed_load 91
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/timer_slack -1 
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/hispeed_freq 307200
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/timer_rate 42000
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/above_hispeed_delay "22000 480000:10000 729600:32000 1228800:30000"
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/go_hispeed_load 300
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/min_sample_time 45000
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/max_freq_hysteresis 0
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/ignore_hispeed_on_notif 0
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/boost 0
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/fast_ramp_down 0
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/align_windows 0
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/use_migration_notif 1
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/use_sched_load 0
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/boostpulse_duration 0
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/io_is_busy 0
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/enable_prediction 1
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/target_loads "45 480000:35 652800:49 844800:60 960000:75 1113600:85 1228800:90 1401600:95 1593600:100"
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/go_hispeed_load 91
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/timer_slack -1 
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/hispeed_freq 307200
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/timer_rate 42000
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/above_hispeed_delay "22000 480000:10000 729600:32000 1228800:30000"
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/go_hispeed_load 300
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/min_sample_time 45000
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/max_freq_hysteresis 0
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/ignore_hispeed_on_notif 0
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/boost 0
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/fast_ramp_down 0
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/align_windows 0
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/use_migration_notif 1
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/use_sched_load 0
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/boostpulse_duration 0
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/io_is_busy 0
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/enable_prediction 1

	#Enable CPU Boost
		write /sys/module/cpu_boost/parameters/input_boost_freq "0:729600 1:0 2:940800 3:0"
		write /sys/module/cpu_boost/parameters/input_boost_ms 35

	#Disable CPU power saving
		write /sys/module/workqueue/parameters/power_efficient Y

	#Enable Gentle Fair Sleepers
		write /sys/kernel/sched/gentle_fair_sleepers 1

	#Enable Arch Power
		write /sys/kernel/sched/arch_power 1

	#Disable CRC
		write /sys/module/mmc_core/parameters/use_spi_crc 0

	#Tweak HMP Scheduler to feed the Big cluster more tasks
		write /proc/sys/kernel/sched_window_stats_policy 2
		write /proc/sys/kernel/sched_upmigrate 95 
		write /proc/sys/kernel/sched_downmigrate 80
		write /proc/sys/kernel/sched_spill_nr_run 5 
		write /proc/sys/kernel/sched_spill_load 96
		write /proc/sys/kernel/sched_init_task_load 40
		write /proc/sys/kernel/sched_heavy_task 96
		write /proc/sys/kernel/sched_enable_power_aware 1
		write /proc/sys/kernel/sched_upmigrate_min_nice 5 
		write /proc/sys/kernel/sched_ravg_hist_size 4
		write /proc/sys/kernel/sched_small_wakee_task_load 5 
		write /proc/sys/kernel/sched_wakeup_load_threshold 110
		write /proc/sys/kernel/sched_small_task 21 
		write /proc/sys/kernel/sched_rt_runtime_us 950000
		write /proc/sys/kernel/sched_rt_period_us 1000000
		write /proc/sys/kernel/sched_migration_fixup 1 
		write /proc/sys/kernel/sched_freq_dec_notify 410000
		write /proc/sys/kernel/sched_freq_inc_notify 600000
		write /proc/sys/kernel/sched_boost 0

	#Scheduler I/O 
		write /sys/block/sda/queue/read_ahead_kb 1024
		write /sys/block/sde/queue/read_ahead_kb 1024

	#VM tweaks
		write /proc/sys/vm/swappiness 40
		write /proc/sys/vm/vfs_cache_pressure 100
		write /proc/sys/vm/dirty_ratio 80
		write /proc/sys/vm/dirty_background_ratio 20
		write /proc/sys/vm/min_free_kbytes 4096
		write /proc/sys/vm/dirty_expire_centisecs 100
		write /proc/sys/vm/dirty_writeback_centisecs 250
		write /proc/sys/vm/oom_kill_allocating_task 0
		write /proc/sys/vm/page-cluster 3

	#Entropy
		write /proc/sys/kernel/random/read_wakeup_threshold 64
		write /proc/sys/kernel/random/write_wakeup_threshold 896

	#Set noop block I/O scheduler
		setprop sys.io.scheduler "fiops"

	#TCP Values
		write /proc/sys/net/ipv4/tcp_congestion_control westwood

	#Tweaking GPU
		write /sys/class/kgsl/kgsl-3d0/devfreq/governor performance
		write /sys/class/kgsl/kgsl-3d0/max_gpuclk 624000000

    #Underclock
        write /sys/module/cpufreq/parameters/enable_underclock_balanced N
        write /sys/module/cpufreq/parameters/enable_underclock_battery N
		
# Balance Smooth (default profile)
on property:persist.spectrum.profile=4
    #Based on HawkPepper v2.0 (18/12/2016)

	#Set governor Interactive governor for the LITTLE and BIG cluster
		write /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor "interactive"
		write /sys/devices/system/cpu/cpu1/cpufreq/scaling_governor "interactive"
		write /sys/devices/system/cpu/cpu2/cpufreq/scaling_governor "interactive"
		write /sys/devices/system/cpu/cpu3/cpufreq/scaling_governor "interactive"

	#Tweak Interactive Governor for the BIG cluster
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/go_hispeed_load 300 
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/above_hispeed_delay "40000 940800:55000 1248000:33000 1632000:32000"
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/timer_rate 40000 
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/hispeed_freq 307200 
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/timer_slack -1
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/target_loads "35 729600:30 940800:32 1113600:35 1248000:37 1401600:65 1632000:72 1708800:85 1824000:99 1996800:99 2150400:100"
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/min_sample_time 0 
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/boost 0
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/align_windows 0
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/use_migration_notif 1
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/use_sched_load 0
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/max_freq_hysteresis 0
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/boostpulse_duration 0
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/go_hispeed_load 300 
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/above_hispeed_delay "40000 940800:55000 1248000:33000 1632000:32000"
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/timer_rate 40000 
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/hispeed_freq 307200 
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/timer_slack -1
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/target_loads "35 729600:30 940800:32 1113600:35 1248000:37 1401600:65 1632000:72 1708800:85 1824000:99 1996800:99 2150400:100"
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/min_sample_time 0 
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/boost 0
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/align_windows 0
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/use_migration_notif 1
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/use_sched_load 0
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/max_freq_hysteresis 0
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/boostpulse_duration 0

	#Tweak Interactive Governor for the LITTLE cluster
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/target_loads "70 480000:68 556800:82 652800:72 729600:94 960000:83 1228800:95 1478400:80 1593600:100"
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/go_hispeed_load 99 
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/timer_slack 480000  
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/hispeed_freq 307200 
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/timer_rate 65000 
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/above_hispeed_delay "0 729600:20000 1036800:37000 1228800:55000"
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/go_hispeed_load 99
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/min_sample_time 0
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/max_freq_hysteresis 0
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/ignore_hispeed_on_notif 0
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/boost 0
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/fast_ramp_down 0
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/align_windows 1
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/use_migration_notif 1
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/use_sched_load 0
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/boostpulse_duration 0
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/io_is_busy 0
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/enable_prediction 1
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/target_loads "70 480000:68 556800:82 652800:72 729600:94 960000:83 1228800:95 1478400:80 1593600:100"
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/go_hispeed_load 99
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/timer_slack 480000 
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/hispeed_freq 307200
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/timer_rate 65000
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/above_hispeed_delay "0 729600:20000 1036800:37000 1228800:55000"
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/go_hispeed_load 99
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/min_sample_time 0
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/max_freq_hysteresis 0
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/ignore_hispeed_on_notif 0
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/boost 0
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/fast_ramp_down 0
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/align_windows 1
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/use_migration_notif 1
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/use_sched_load 0
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/boostpulse_duration 0
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/io_is_busy 0
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/enable_prediction 1

	#Enable CPU Boost
		write /sys/module/cpu_boost/parameters/input_boost_freq "0:960000 1:0 2:883200 3:0"
		write /sys/module/cpu_boost/parameters/input_boost_ms 35

	#Enable CPU power saving
		write /sys/module/workqueue/parameters/power_efficient Y

	#Disable Gentle Fair Sleepers
		write /sys/kernel/sched/gentle_fair_sleepers 0

	#Enable Arch Power
		write /sys/kernel/sched/arch_power 1

	#Disable CRC
		write /sys/module/mmc_core/parameters/use_spi_crc 0

	#Tweak HMP Scheduler to feed the Big cluster more tasks
		write /proc/sys/kernel/sched_window_stats_policy 2
		write /proc/sys/kernel/sched_upmigrate 95 
		write /proc/sys/kernel/sched_downmigrate 80
		write /proc/sys/kernel/sched_spill_nr_run 5 
		write /proc/sys/kernel/sched_spill_load 96
		write /proc/sys/kernel/sched_init_task_load 40
		write /proc/sys/kernel/sched_heavy_task 96
		write /proc/sys/kernel/sched_enable_power_aware 1
		write /proc/sys/kernel/sched_upmigrate_min_nice 5 
		write /proc/sys/kernel/sched_ravg_hist_size 4
		write /proc/sys/kernel/sched_small_wakee_task_load 5 
		write /proc/sys/kernel/sched_wakeup_load_threshold 110
		write /proc/sys/kernel/sched_small_task 21 
		write /proc/sys/kernel/sched_rt_runtime_us 950000
		write /proc/sys/kernel/sched_rt_period_us 1000000
		write /proc/sys/kernel/sched_migration_fixup 1 
		write /proc/sys/kernel/sched_freq_dec_notify 410000
		write /proc/sys/kernel/sched_freq_inc_notify 600000
		write /proc/sys/kernel/sched_boost 0

	#Scheduler I/O 
		write /sys/block/sda/queue/read_ahead_kb 1024
		write /sys/block/sde/queue/read_ahead_kb 1024

	#VM tweaks
		write /proc/sys/vm/swappiness 30 
		write /proc/sys/vm/vfs_cache_pressure 100
		write /proc/sys/vm/dirty_ratio 80 
		write /proc/sys/vm/dirty_background_ratio 50
		write /proc/sys/vm/min_free_kbytes 4096

	#Entropy
		write /proc/sys/kernel/random/read_wakeup_threshold 64
		write /proc/sys/kernel/random/write_wakeup_threshold 896

	#Set noop block I/O scheduler
		setprop sys.io.scheduler "sio"

	#TCP Values
		write /proc/sys/net/ipv4/tcp_congestion_control westwood

	#Tweaking GPU
		write /sys/class/kgsl/kgsl-3d0/devfreq/governor msm-adreno-tz
		write /sys/class/kgsl/kgsl-3d0/max_gpuclk 560000000

    #Underclock
        write /sys/module/cpufreq/parameters/enable_underclock_balanced Y
        write /sys/module/cpufreq/parameters/enable_underclock_battery N
		
# Balance Battery
on property:persist.spectrum.profile=0
    #Based on Floppy Balanced

	#Set governor Interactive governor for the LITTLE and BIG cluster
		write /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor "interactive"
		write /sys/devices/system/cpu/cpu1/cpufreq/scaling_governor "interactive"
		write /sys/devices/system/cpu/cpu2/cpufreq/scaling_governor "interactive"
		write /sys/devices/system/cpu/cpu3/cpufreq/scaling_governor "interactive"

	#Tweak Interactive Governor for the BIG cluster
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/go_hispeed_load 90
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/above_hispeed_delay 0
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/timer_rate 30000
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/hispeed_freq 960000
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/timer_slack 480000
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/target_loads "74 768000:73 864000:64 960000:80 1248000:61 1344000:69 1440000:64 1536000:74 1632000:69 1689600:67 1824000:99"
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/min_sample_time 0
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/boost 0
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/align_windows 1
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/use_migration_notif 1
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/use_sched_load 0
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/max_freq_hysteresis 60000
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/boostpulse_duration 0
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/go_hispeed_load 90
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/above_hispeed_delay 0
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/timer_rate 30000
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/hispeed_freq 960000
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/timer_slack 480000
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/target_loads "74 768000:73 864000:64 960000:80 1248000:61 1344000:69 1440000:64 1536000:74 1632000:69 1689600:67 1824000:99"
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/min_sample_time 0
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/boost 0
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/align_windows 1
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/use_migration_notif 1
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/use_sched_load 0
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/max_freq_hysteresis 60000
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/boostpulse_duration 0

	#Tweak Interactive Governor for the LITTLE cluster
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/target_loads "45 480000:35 652800:49 844800:60 960000:75 1113600:85 1228800:90 1401600:95 1593600:100"
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/go_hispeed_load 91
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/timer_slack -1 
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/hispeed_freq 307200
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/timer_rate 42000
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/above_hispeed_delay "22000 480000:10000 729600:32000 1228800:30000"
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/go_hispeed_load 300
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/min_sample_time 45000
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/max_freq_hysteresis 0
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/ignore_hispeed_on_notif 0
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/boost 0
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/fast_ramp_down 0
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/align_windows 0
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/use_migration_notif 1
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/use_sched_load 0
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/boostpulse_duration 0
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/io_is_busy 0
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/enable_prediction 1
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/target_loads "45 480000:35 652800:49 844800:60 960000:75 1113600:85 1228800:90 1401600:95 1593600:100"
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/go_hispeed_load 91
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/timer_slack -1 
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/hispeed_freq 307200
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/timer_rate 42000
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/above_hispeed_delay "22000 480000:10000 729600:32000 1228800:30000"
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/go_hispeed_load 300
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/min_sample_time 45000
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/max_freq_hysteresis 0
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/ignore_hispeed_on_notif 0
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/boost 0
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/fast_ramp_down 0
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/align_windows 0
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/use_migration_notif 1
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/use_sched_load 0
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/boostpulse_duration 0
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/io_is_busy 0
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/enable_prediction 1

	#Enable CPU Boost
		write /sys/module/cpu_boost/parameters/input_boost_freq "0:960000 1:0 2:883200 3:0"
		write /sys/module/cpu_boost/parameters/input_boost_ms 35

	#Enable CPU power saving
		write /sys/module/workqueue/parameters/power_efficient Y

	#Disable Gentle Fair Sleepers
		write /sys/kernel/sched/gentle_fair_sleepers 0

	#Enable Arch Power
		write /sys/kernel/sched/arch_power 1

	#Disable CRC
		write /sys/module/mmc_core/parameters/use_spi_crc 0

	#Tweak HMP Scheduler to feed the Big cluster more tasks
		write /proc/sys/kernel/sched_window_stats_policy 2
		write /proc/sys/kernel/sched_upmigrate 95 
		write /proc/sys/kernel/sched_downmigrate 80
		write /proc/sys/kernel/sched_spill_nr_run 5 
		write /proc/sys/kernel/sched_spill_load 96
		write /proc/sys/kernel/sched_init_task_load 40
		write /proc/sys/kernel/sched_heavy_task 96
		write /proc/sys/kernel/sched_enable_power_aware 1
		write /proc/sys/kernel/sched_upmigrate_min_nice 5 
		write /proc/sys/kernel/sched_ravg_hist_size 4
		write /proc/sys/kernel/sched_small_wakee_task_load 5 
		write /proc/sys/kernel/sched_wakeup_load_threshold 110
		write /proc/sys/kernel/sched_small_task 21 
		write /proc/sys/kernel/sched_rt_runtime_us 950000
		write /proc/sys/kernel/sched_rt_period_us 1000000
		write /proc/sys/kernel/sched_migration_fixup 1 
		write /proc/sys/kernel/sched_freq_dec_notify 410000
		write /proc/sys/kernel/sched_freq_inc_notify 600000
		write /proc/sys/kernel/sched_boost 0

	#Scheduler I/O 
		write /sys/block/sda/queue/read_ahead_kb 512
		write /sys/block/sde/queue/read_ahead_kb 512

	#VM tweaks
		write /proc/sys/vm/swappiness 30 
		write /proc/sys/vm/vfs_cache_pressure 100
		write /proc/sys/vm/dirty_ratio 80 
		write /proc/sys/vm/dirty_background_ratio 50
		write /proc/sys/vm/min_free_kbytes 4096

	#Entropy
		write /proc/sys/kernel/random/read_wakeup_threshold 64
		write /proc/sys/kernel/random/write_wakeup_threshold 896

	#Set noop block I/O scheduler
		setprop sys.io.scheduler "sio"

	#TCP Values
		write /proc/sys/net/ipv4/tcp_congestion_control westwood

	#Tweaking GPU
		write /sys/class/kgsl/kgsl-3d0/devfreq/governor msm-adreno-tz
		write /sys/class/kgsl/kgsl-3d0/max_gpuclk 560000000

    #Underclock
        write /sys/module/cpufreq/parameters/enable_underclock_balanced Y
        write /sys/module/cpufreq/parameters/enable_underclock_battery N

# Battery
on property:persist.spectrum.profile=2
	#Based on Project X.A.N.A (Extreme Battery variant) v4.3  (19/09/2017)
	
	#Set governor Interactive governor for the LITTLE and BIG cluster
		write /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor "interactive"
		write /sys/devices/system/cpu/cpu1/cpufreq/scaling_governor "interactive"
		write /sys/devices/system/cpu/cpu2/cpufreq/scaling_governor "interactive"
		write /sys/devices/system/cpu/cpu3/cpufreq/scaling_governor "interactive"

	#Tweak Interactive Governor for the BIG cluster
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/go_hispeed_load 400 
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/above_hispeed_delay "35000 729600:145000 940800:205000 1248000:175000 1401600:80000 1632000:180000"
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/timer_rate 110000 
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/hispeed_freq 940800 
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/timer_slack 160000 
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/target_loads "65 729600:75 844800:87 940800:80 1036800:2 1401600:97 1824000:100"
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/min_sample_time 0
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/boost 0
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/align_windows 0
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/use_migration_notif 1
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/use_sched_load 0
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/max_freq_hysteresis 60000
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/boostpulse_duration 0
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/go_hispeed_load 400
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/above_hispeed_delay "35000 729600:145000 940800:205000 1248000:175000 1401600:80000 1632000:180000"
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/timer_rate 110000
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/hispeed_freq 940800
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/timer_slack 160000
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/target_loads "65 729600:75 844800:87 940800:80 1036800:2 1401600:97 1824000:100"
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/min_sample_time 0
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/boost 0
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/align_windows 0
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/use_migration_notif 1
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/use_sched_load 0
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/max_freq_hysteresis 60000
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/boostpulse_duration 0

	#Tweak Interactive Governor for the LITTLE cluster
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/go_hispeed_load 155 
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/above_hispeed_delay "0 729600:175000 844800:95000 960000:185000 1228800:175000 1478400:120000"
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/timer_rate 86666 
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/hispeed_freq 307200 
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/timer_slack 145000 
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/target_loads "71 480000:70 556800:77 652800:79 729600:83 844800:87 960000:92 1036800:2 1228800:100"
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/min_sample_time 24000 
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/boost 0
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/align_windows 0
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/use_migration_notif 1
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/use_sched_load 0
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/max_freq_hysteresis 0
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/boostpulse_duration 0
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/go_hispeed_load 155
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/above_hispeed_delay "0 729600:175000 844800:95000 960000:185000 1228800:175000 1478400:120000"
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/timer_rate 86666
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/hispeed_freq 307200
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/timer_slack 145000
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/target_loads "71 480000:70 556800:77 652800:79 729600:83 844800:87 960000:92 1036800:2 1228800:100"
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/min_sample_time 24000
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/boost 0
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/align_windows 0
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/use_migration_notif 1
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/use_sched_load 0
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/max_freq_hysteresis 0
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/boostpulse_duration 0

	#Enable CPU Boost
		write /sys/module/cpu_boost/parameters/input_boost_freq "0:0 1:0 2:0 3:0"
		write /sys/module/cpu_boost/parameters/input_boost_ms 0

	#Enable CPU power saving
		write /sys/module/workqueue/parameters/power_efficient Y

	#Disable Gentle Fair Sleepers
		write /sys/kernel/sched/gentle_fair_sleepers 0

	#Enable Arch Power
		write /sys/kernel/sched/arch_power 1

	#Disable CRC
		write /sys/module/mmc_core/parameters/use_spi_crc 0

	#Tweak HMP Scheduler for correcting BIG Cluster utilization
		write /proc/sys/kernel/sched_window_stats_policy 2
		write /proc/sys/kernel/sched_upmigrate 95 
		write /proc/sys/kernel/sched_downmigrate 65
		write /proc/sys/kernel/sched_spill_nr_run 7
		write /proc/sys/kernel/sched_spill_load 97 
		write /proc/sys/kernel/sched_init_task_load 30 
		write /proc/sys/kernel/sched_heavy_task 96
		write /proc/sys/kernel/sched_enable_power_aware 1
		write /proc/sys/kernel/sched_upmigrate_min_nice 7
		write /proc/sys/kernel/sched_ravg_hist_size 4
		write /proc/sys/kernel/sched_small_wakee_task_load 15 
		write /proc/sys/kernel/sched_wakeup_load_threshold 110
		write /proc/sys/kernel/sched_small_task 15 
		write /proc/sys/kernel/sched_rt_runtime_us 950000
		write /proc/sys/kernel/sched_rt_period_us 1000000
		write /proc/sys/kernel/sched_migration_fixup 1 
		write /proc/sys/kernel/sched_freq_dec_notify 410000
		write /proc/sys/kernel/sched_freq_inc_notify 600000
		write /proc/sys/kernel/sched_boost 0

	#Scheduler I/O 
		write /sys/block/sda/queue/read_ahead_kb 256
		write /sys/block/sde/queue/read_ahead_kb 256

	#VM tweaks
		write /proc/sys/vm/swappiness 0
		write /proc/sys/vm/vfs_cache_pressure 100
		write /proc/sys/vm/dirty_ratio 80
		write /proc/sys/vm/dirty_background_ratio 20
		write /proc/sys/vm/min_free_kbytes 4096
		write /proc/sys/vm/dirty_expire_centisecs 100
		write /proc/sys/vm/dirty_writeback_centisecs 250
		write /proc/sys/vm/oom_kill_allocating_task 0
		write /proc/sys/vm/page-cluster 3

	#Entropy
		write /proc/sys/kernel/random/read_wakeup_threshold 64
		write /proc/sys/kernel/random/write_wakeup_threshold 896

	#Set noop block I/O scheduler
		setprop sys.io.scheduler "noop"

	#TCP
		write /proc/sys/net/ipv4/tcp_congestion_control westwood

	#Tweaking GPU
		write /sys/class/kgsl/kgsl-3d0/devfreq/governor powersave
		write /sys/class/kgsl/kgsl-3d0/max_gpuclk 501000000 

    #Underclock
        write /sys/module/cpufreq/parameters/enable_underclock_balanced N
        write /sys/module/cpufreq/parameters/enable_underclock_battery Y

# Ultra Battery
on property:persist.spectrum.profile=7
	#Based on Floppy Battery
	
	#Set governor Interactive governor for the LITTLE and BIG cluster
		write /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor "interactive"
		write /sys/devices/system/cpu/cpu1/cpufreq/scaling_governor "interactive"
		write /sys/devices/system/cpu/cpu2/cpufreq/scaling_governor "interactive"
		write /sys/devices/system/cpu/cpu3/cpufreq/scaling_governor "interactive"

	#Tweak Interactive Governor for the BIG cluster
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/go_hispeed_load 90
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/above_hispeed_delay 0
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/timer_rate 30000
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/hispeed_freq 960000
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/timer_slack 480000
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/target_loads "74 768000:73 864000:64 960000:80 1248000:61 1344000:69 1440000:64 1536000:74 1632000:69 1689600:67 1824000:99"
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/min_sample_time 0
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/boost 0
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/align_windows 1
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/use_migration_notif 1
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/use_sched_load 0
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/max_freq_hysteresis 60000
		write /sys/devices/system/cpu/cpu2/cpufreq/interactive/boostpulse_duration 0
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/go_hispeed_load 90
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/above_hispeed_delay 0
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/timer_rate 30000
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/hispeed_freq 960000
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/timer_slack 480000
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/target_loads "74 768000:73 864000:64 960000:80 1248000:61 1344000:69 1440000:64 1536000:74 1632000:69 1689600:67 1824000:99"
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/min_sample_time 0
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/boost 0
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/align_windows 1
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/use_migration_notif 1
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/use_sched_load 0
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/max_freq_hysteresis 60000
		write /sys/devices/system/cpu/cpu3/cpufreq/interactive/boostpulse_duration 0

	#Tweak Interactive Governor for the LITTLE cluster
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/go_hispeed_load 99
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/above_hispeed_delay 0
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/timer_rate 60000
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/hispeed_freq 1248000
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/timer_slack 480000
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/target_loads "80 460800:68 600000:82 672000:72 787200:92 864000:83 960000:99 1248000:75 1440000:99"
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/min_sample_time 0
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/boost 0
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/align_windows 1
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/use_migration_notif 1
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/use_sched_load 0
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/max_freq_hysteresis 0
		write /sys/devices/system/cpu/cpu0/cpufreq/interactive/boostpulse_duration 0
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/go_hispeed_load 99
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/above_hispeed_delay 0
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/timer_rate 60000
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/hispeed_freq 1248000
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/timer_slack 480000
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/target_loads "80 460800:68 600000:82 672000:72 787200:92 864000:83 960000:99 1248000:75 1440000:99"
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/min_sample_time 0
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/boost 0
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/align_windows 1
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/use_migration_notif 1
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/use_sched_load 0
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/max_freq_hysteresis 0
		write /sys/devices/system/cpu/cpu1/cpufreq/interactive/boostpulse_duration 0

	#Enable CPU Boost
		write /sys/module/cpu_boost/parameters/input_boost_freq "0:0 1:0 2:0 3:0"
		write /sys/module/cpu_boost/parameters/input_boost_ms 0

	#Enable CPU power saving
		write /sys/module/workqueue/parameters/power_efficient Y

	#Disable Gentle Fair Sleepers
		write /sys/kernel/sched/gentle_fair_sleepers 0

	#Enable Arch Power
		write /sys/kernel/sched/arch_power 1

	#Disable CRC
		write /sys/module/mmc_core/parameters/use_spi_crc 0

	#Tweak HMP Scheduler for correcting BIG Cluster utilization
		write /proc/sys/kernel/sched_window_stats_policy 2
		write /proc/sys/kernel/sched_upmigrate 95 
		write /proc/sys/kernel/sched_downmigrate 80
		write /proc/sys/kernel/sched_spill_nr_run 5 
		write /proc/sys/kernel/sched_spill_load 96
		write /proc/sys/kernel/sched_init_task_load 40
		write /proc/sys/kernel/sched_heavy_task 96
		write /proc/sys/kernel/sched_enable_power_aware 1
		write /proc/sys/kernel/sched_upmigrate_min_nice 5 
		write /proc/sys/kernel/sched_ravg_hist_size 4
		write /proc/sys/kernel/sched_small_wakee_task_load 5 
		write /proc/sys/kernel/sched_wakeup_load_threshold 110
		write /proc/sys/kernel/sched_small_task 21 
		write /proc/sys/kernel/sched_rt_runtime_us 950000
		write /proc/sys/kernel/sched_rt_period_us 1000000
		write /proc/sys/kernel/sched_migration_fixup 1 
		write /proc/sys/kernel/sched_freq_dec_notify 410000
		write /proc/sys/kernel/sched_freq_inc_notify 600000
		write /proc/sys/kernel/sched_boost 0

	#Scheduler I/O 
		write /sys/block/sda/queue/read_ahead_kb 512
		write /sys/block/sde/queue/read_ahead_kb 512

	#VM tweaks
		write /proc/sys/vm/swappiness 20
		write /proc/sys/vm/vfs_cache_pressure 100
		write /proc/sys/vm/dirty_ratio 80
		write /proc/sys/vm/dirty_background_ratio 50
		write /proc/sys/vm/min_free_kbytes 4096
		write /proc/sys/vm/dirty_expire_centisecs 100
		write /proc/sys/vm/dirty_writeback_centisecs 250
		write /proc/sys/vm/oom_kill_allocating_task 0
		write /proc/sys/vm/page-cluster 3

	#Entropy
		write /proc/sys/kernel/random/read_wakeup_threshold 64
		write /proc/sys/kernel/random/write_wakeup_threshold 896

	#Set noop block I/O scheduler
		setprop sys.io.scheduler "noop"

	#TCP
		write /proc/sys/net/ipv4/tcp_congestion_control westwood

	#Tweaking GPU
		write /sys/class/kgsl/kgsl-3d0/devfreq/governor powersave
		write /sys/class/kgsl/kgsl-3d0/max_gpuclk 410000000

    #Underclock
        write /sys/module/cpufreq/parameters/enable_underclock_balanced N
        write /sys/module/cpufreq/parameters/enable_underclock_battery Y
		
# Felipe Mode
on property:persist.spectrum.profile=8
	#Based on Supreme Lord of the Lanterns
	
	#Set governor Interactive governor for the LITTLE and BIG cluster
		write /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor "powersave"
		write /sys/devices/system/cpu/cpu1/cpufreq/scaling_governor "powersave"
		write /sys/devices/system/cpu/cpu2/cpufreq/scaling_governor "powersave"
		write /sys/devices/system/cpu/cpu3/cpufreq/scaling_governor "powersave"

	#Enable CPU Boost
		write /sys/module/cpu_boost/parameters/input_boost_freq "0:0 1:0 2:0 3:0"
		write /sys/module/cpu_boost/parameters/input_boost_ms 0

	#Enable CPU power saving
		write /sys/module/workqueue/parameters/power_efficient Y

	#Disable Gentle Fair Sleepers
		write /sys/kernel/sched/gentle_fair_sleepers 0

	#Enable Arch Power
		write /sys/kernel/sched/arch_power 1

	#Disable CRC
		write /sys/module/mmc_core/parameters/use_spi_crc 0

	#Tweak HMP Scheduler for correcting BIG Cluster utilization
		write /proc/sys/kernel/sched_window_stats_policy 2
		write /proc/sys/kernel/sched_upmigrate 95 
		write /proc/sys/kernel/sched_downmigrate 80
		write /proc/sys/kernel/sched_spill_nr_run 5 
		write /proc/sys/kernel/sched_spill_load 96
		write /proc/sys/kernel/sched_init_task_load 40
		write /proc/sys/kernel/sched_heavy_task 96
		write /proc/sys/kernel/sched_enable_power_aware 1
		write /proc/sys/kernel/sched_upmigrate_min_nice 5 
		write /proc/sys/kernel/sched_ravg_hist_size 4
		write /proc/sys/kernel/sched_small_wakee_task_load 5 
		write /proc/sys/kernel/sched_wakeup_load_threshold 110
		write /proc/sys/kernel/sched_small_task 21 
		write /proc/sys/kernel/sched_rt_runtime_us 950000
		write /proc/sys/kernel/sched_rt_period_us 1000000
		write /proc/sys/kernel/sched_migration_fixup 1 
		write /proc/sys/kernel/sched_freq_dec_notify 410000
		write /proc/sys/kernel/sched_freq_inc_notify 600000
		write /proc/sys/kernel/sched_boost 0

	#Scheduler I/O 
		write /sys/block/sda/queue/read_ahead_kb 128
		write /sys/block/sde/queue/read_ahead_kb 128

	#VM tweaks
		write /proc/sys/vm/swappiness 20
		write /proc/sys/vm/vfs_cache_pressure 100
		write /proc/sys/vm/dirty_ratio 80
		write /proc/sys/vm/dirty_background_ratio 50
		write /proc/sys/vm/min_free_kbytes 4096
		write /proc/sys/vm/dirty_expire_centisecs 100
		write /proc/sys/vm/dirty_writeback_centisecs 250
		write /proc/sys/vm/oom_kill_allocating_task 0
		write /proc/sys/vm/page-cluster 3

	#Entropy
		write /proc/sys/kernel/random/read_wakeup_threshold 64
		write /proc/sys/kernel/random/write_wakeup_threshold 896

	#Set noop block I/O scheduler
		setprop sys.io.scheduler "noop"

	#TCP
		write /proc/sys/net/ipv4/tcp_congestion_control westwood

	#Tweaking GPU
		write /sys/class/kgsl/kgsl-3d0/devfreq/governor powersave
		write /sys/class/kgsl/kgsl-3d0/max_gpuclk 410000000

    #Underclock
        write /sys/module/cpufreq/parameters/enable_underclock_balanced N
        write /sys/module/cpufreq/parameters/enable_underclock_battery Y
